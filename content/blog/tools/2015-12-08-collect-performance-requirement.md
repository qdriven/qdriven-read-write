---
layout: post
title: "收集性能测试需求"
modified:
image: 22.jpg
tags: [tooling]
date: 2015-12-08T13:36:27
---

很多时候遇到一些关于性能测试的需求的时候，需求方实际上是给不出任何具体的需求，更多的是一下如下的抱怨:

- 速度慢(具体哪个操作慢又很难给出)
- 经常会出现系统过载(一般也不会自己看看监控的)
- 反正就是慢，我也不知道哪里慢
- 有一天突然系统响应时间慢，监控报警了

遇到这样的问题时,突然发现测试其实挺悲惨的,因为和这样的同事打交道其实压力挺大了.按照这样的逻辑
其实背后的含义就是所有和测试有关的事情都是你测试的事情，然后当坐下来和他们沟通的时候，他们具体
的问题时，一般也很难收集到信息，我一般会问一下如下的问题：

- 这个慢是经常出现的吗，还是那天突然有些运维的改动或者有些其他系统故障造成的？
  我至少遇到过几次犹豫数据库的原因造成了整个系统都出问题了,然而还是会有人会提出这样的不叫思考的要求，响应慢了，你一定要去测性能。 回到问题本身来说，我已经遇到无数次问这样的问题的时候，答案是不知道；我一般还会去查看一个月，或者更长的时间来看应用的响应时间分布，看看有没有明显的变慢点
- 同时会问能不能具体到那个API或者页面访问的时候慢，同样没有答案；答案就是确实慢，但是不知道那个业务慢，所以才要你来测试一下，然一个应用可能有数十个API，我们总是要了解客户使用场景的吧
- 相关业务在某个时间段有没有特殊的并发操作，比如可能每个月底的时候需要突击一个什么东西，然后突然访问量就变大了，这样好歹也能推测一些访问的场景来看看，然获取的答案还是不知道
- 你对于你自己应用大概需要的吞吐量是多少，或者具体到某些具体的API是多少？ 然还是没有答案

诸如此类的问题其实经常是得不到回答的，而你有需要完成相关的性能测试和排查.唯一的好处就是你不要太当真，大家只是在踢这个球而已。不过既然做了技术，而且想做这个性能测试的话，只能自己想想办法去获得了一些数据了.一般需要如下数据：

- 最高峰1个小时的访问量
- 最高峰一个小时的PAGE VIEW
- 最高峰一个小时的交易量(transaction量)，converation rate from visits
- APIs最高峰1个小时的访问量
- 业务方对于活动人数的估计

当然还有一些其他的应用的访问量，就不一一说明了,后面会再用一些数据计算来说明输入估算性能需求.
